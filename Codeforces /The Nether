#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

bool comp(pair<ll,ll> a, pair<ll,ll> b) {
    return a.second > b.second;
}

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);

    int t;
    cin >> t;
    while (t--) {
        ll n;
        cin >> n;

        vector<pair<ll,ll>>v ; 
        vector<ll> res;

        for (int i = 1; i <= n; i++) {
            cout << "? " << i << " " << n;
            for (int j = 1; j <= n; j++) {
                cout << " " << j;
            }
            cout << endl;
            cout.flush();

            int input;
            cin >> input;
            v.push_back({i,input});
        }
            sort(v.begin(),v.end(),comp);
            // for(int i=0;i<v.size();i++){
            //     cout<<v[i].first<<" "<<v[i].second;
            // }
            int temp=0;
            res.push_back(v[0].first);
            int last=v[0].first;
            for (int i = 1; i < v.size(); i++) {
                if (v[i].second == v[temp].second) continue;
                if (i+1<n && v[i].second == v[i+1].second) {
                    cout << "? " << res.back() << " " << 2 
                         << " " << res.back() << " " << v[i].first << endl;
                    cout.flush();

                    int input;
                    cin >> input;
                    if (input == 2) {
                        last=v[i].first;
                        res.push_back(v[i].first);
                        temp = i;
                    }
                } else {
                    last=v[i].first;
                    res.push_back(v[i].first);
                    temp = i;
                }
            }
        

        cout << "! " << res.size();
        for (auto x : res) cout << " " << x;
        cout << "\n";
        cout.flush();
    }
    return 0;
}
